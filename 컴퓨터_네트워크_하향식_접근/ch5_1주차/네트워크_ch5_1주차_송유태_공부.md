# 네트워크 계층: 제어 평면

## 1. 라우팅 알고리즘 기초

### 1.1 최소 비용 경로

- 출발지에서 목적지까지의 최소 비용 경로 계산
- 그래프 이론의 최단 경로 알고리즘 활용
- 비용 메트릭: 홉 수, 거리, 지연 시간 등

### 1.2 라우팅 알고리즘 분류

1. **구현 방식에 따른 분류**

   - 중앙 집중형: 전체 네트워크 정보로 계산
   - 분산형: 라우터들이 반복적 계산 과정으로 결정

2. **상태 변화 대응에 따른 분류**

   - 정적: 경로가 천천히 변화
   - 동적: 네트워크 상태에 따라 빠르게 갱신

3. **부하 민감도에 따른 분류**
   - 부하 민감형: 혼잡도 반영
   - 부하 둔감형: 정적 메트릭만 사용

## 2. 주요 라우팅 알고리즘

### 2.1 링크 상태 라우팅 알고리즘

- **특징**

  - 전체 네트워크 토폴로지 정보 사용
  - Dijkstra 알고리즘 사용
  - 모든 노드가 동일한 정보 보유

- **링크 상태 브로드캐스트**
  1. 이웃 노드 발견
  2. 링크 비용 측정
  3. 링크 상태 패킷 생성
  4. 네트워크 전체에 플러딩
  5. 최단 경로 계산

### 2.2 거리 벡터 라우팅 알고리즘

- **특징**

  - Bellman-Ford 방정식 사용
  - 이웃 노드와 정보 교환
  - 반복적 계산 과정

- **문제점과 해결책**
  1. 링크 비용 변경/고장 시 문제
     - 카운트-투-인피니티 문제 발생
  2. 포이즌 리버스
     - 무한 카운팅 문제 부분 해결

### 2.3 알고리즘 비교

1. **메시지 복잡성**

   - 링크 상태: O(nE) 메시지
   - 거리 벡터: 이웃 간 교환

2. **수렴 속도**

   - 링크 상태: O(n²) 알고리즘
   - 거리 벡터: 수렴이 느림

3. **견고성**
   - 링크 상태: 더 견고함
   - 거리 벡터: 오류 전파 가능성

## 3. 실제 인터넷 라우팅

### 3.1 AS 내부 라우팅: OSPF

- **특징**

  - 개방형 표준
  - 링크 상태 알고리즘 사용
  - 보안 지원
  - 다중 경로 지원

- **확장성**
  - 계층적 OSPF
  - 영역(Area) 개념 도입

### 3.2 AS 간 라우팅: BGP

- **기본 특징**

  - 자율 시스템 간 라우팅
  - 경로 벡터 프로토콜
  - TCP 연결로 신뢰성 보장

- **BGP 동작**

  1. 경로 정보 알리기
  2. 최적 경로 선택
  3. 정책 기반 라우팅

- **주요 개념**
  - 뜨거운 감자 라우팅
  - IP 애니캐스트
  - 다중 홈 접속

### 3.3 라우팅 정책

- AS 간 관계
  - 제공자-고객 관계
  - 피어 관계
- 경로 선택 기준
- 정책 기반 필터링

## 4. 인터넷 연결성

- BGP를 통한 전역 연결성
- 계층적 구조
- 다중 경로 및 이중화
- 견고성과 확장성 보장
