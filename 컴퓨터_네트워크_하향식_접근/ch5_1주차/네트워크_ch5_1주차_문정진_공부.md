# 네트워크 계층 : 제어 평면

- 제어 평면 : 네트워크 전체를 아우르는 구성요소로, 데이터그램이 출발지 호스트부터 목적지 호스트까지의 경로에 따라 어떻게 전달되는지, 네트워크 계층 구성 요소와 서비스를 어떻게 설정하고 관리하는지를 제어.

## 5.1 개요

- 라우터별 제어
  - 포워딩과 라우팅 기능이 개별 라우터에 포함
  - 자신의 포워딩 데이블 값 계산하는 라우팅 구성요소 갖음
- 논리적 중앙 집중형 제어
  - 중앙 집중형 컨트롤러가 포워딩 테이블 작성
  - 개별 라우터가 해당 포워딩 테이블 받아서 사용

## 5.2 라우팅 알고리즘

- 라우팅 알고리즘 : 송신자부토 수신자까지의 라우터의 네트워크를 통과하는 좋은 경로를 결정.
- 좋은 경로 : 최소 비용 경로

* 중앙 집중형 라우팅 알고리즘
  - 네트워크 전체에 대한 완전한 정보를 갖음
  - 출발지와 목적지 사이의 최소 비용 경로 계산
  - 링크 상태( 전체 상태 정보를 갖는 알고리즘)
* 분산 라우팅 알고리즘
  - 최소 비용 경로의 계산이 라우터들에 의해 반복적이고 분산된 방식으로 수행
  - 어떤 노드도 모든 링크의 비용애 대한 완전한 정보를 갖지 않음.
  - 직접 연결된 링크에 대한 비용정보만 갖음
* 정적 라우팅 알고리즘 -> 경로는 아주 느리게 변하는데, 사람이 개입
* 동적 라우팅 알고리즘 -> 트래픽 부하나 토폴로지 변화에 따라 라우팅 경로 변경

### 5.2.1 링크 상태 라우팅 알고리즘

- 네트워크 토폴로지와 모든 링크 비용이 알려져 링크 상태 알고리즘의 입력값으로 사용될 수 있음.
- 링크 사앹 브로드캐스트 알고리즘 -> 다익스트라 아록리즘

### 5.2.2 거리 벡터 라우팅 알고리즘

- 반복적, 비동기적, 분산적.
- 직접 연결된 이웃의 정보를 받아 계산 수행. 해당 결과값을 이웃에게 배포 -> 분산적
- 이웃끼리 더 이상 정보 교환하지 않을 때까지 프로세스 지속 -> 반복적
- 모든 노드가 정확히 맞물려 동작할 필요가 없음 -> 비동기적

## 5.3 인터넷에서의 AS 내부 라우팅 : OSPF

- 확장
  - 라우터 수 증가에 따라 라우팅 정보의 통신, 계산, 저장에 오버헤드가 증가
  - 수억 개의 라우터 구성으로 라우터는 목적지로의 라우팅 정보를 저장하기 위해 막대한 양의 메모리 필요.
  - 브로드캐스트 시 필요한 오버헤드는 많을 것.
- 관리 자율성
  - 하나의 조직은 자신의 네트워크를 외부 네트워크에 연결하면서도, 자신이 원하는 대로 네트워크를 운영하고 관리해야함.
    -> 두 문제를 자율 시스템으로 조직화해 해결해야함.

## 5.4 인터넷 서비스 제공업자간의 라우팅 : BGP

- 패킷이 CIDR 형식으로 표현된, 프리픽스로 전달
- 이웃 AS를 통해 도달 가능한 서브넷 프리픽스 정보 얻음
- 서브넷 주소 프리픽스로 가장 좋은 경로 결정

* 뜨거운 감자 라우팅
* 경로 선택 알고리즘
* IP 애니캐스트
* 라우팅 정책
* 조각 맞추기
