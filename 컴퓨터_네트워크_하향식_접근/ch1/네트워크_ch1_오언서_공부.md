# Chapter1. 컴퓨터 네트워크와 인터넷
## 1.1 인터넷이란 무엇인가?
### 1.1.1 구성요소로 본 인터넷
- 전 세계적으로 수십억 개의 컴퓨팅 장치를 연결하는 컴퓨터 네트워크

#### 네트워크 인프라 구성 요소 이해
호스트, 종단시스템: 인터넷에 연결되는 장치들

패킷 교환기: 입력 통신 링크의 하나로 도착하는 패킷을 받아 출력 통신 링크의 하나로 패킷을 전달 <br>
라우터: 네트워크 코어에서 사용 <br>
링크 계층 스위치: 보통 접속 네트워크에서 사용

ISP(internet service provider): 인터넷 서비스를 제공하는 조직
- 종단 시스템에게 다양한 네트워크 접속 제공
- 인터넷 접속 제공

프로토콜: 인터넷을 구성하는 장치들 간 정보 교환을 제어하는 규칙 <br>
TCP/IP: 인터넷에서 가장 중요한 프로토콜

### 1.1.2 서비스 측면에서 본 인터넷
- 애플리케이션에 서비스를 제공하는 인프라스트럭처

### 1.1.3. 프로토콜이란 무엇인가?
#### 프로토콜의 역할
- 비트의 흐름 제어
- 패킷 경로 설정

---

## 1.2 네트워크의 가장자리
### 1.2.1 접속 네트워크
- 종단 시스템을 종단 시스템으로부터 먼 거리에 있는 다른 종단 시스템까지의 경로 상에 있는 첫 번째 라우터에 연결하는 네트워크
#### 가정 접속

- DSL(digital subscriber line): 하나의 전화선을 써서 인터넷과 전화가 동시에 연결
- 케이블 인터넷 접속: tv 비디오 신호에 쓰이는 고주파/저주파 신호를 인터넷 신호 전달에 사용
	- upstream: 1Gbps 전후의 전송속도 제공
	- downstream: 10Gbps 전후의 전송속도 제공
- FTTH(fiber to the home): 네트워크에서 각 가정까지 광케이블 사용
	- TDM-PON: 광 분기기에 의해 분기된 광 케이블에 연결된 모든 가입자가 시간 분할 다중 접근(TDMA - Time Division Multiple Access)으로 광 케이블의 대역폭 공유
	- WDM-PON: 파장 분할 다중 접근(Wavelength Division Multiple Access) 기술을 적용하여 각 가입자별로 서로 다른 파장의 광 신호 할당
- 5G 고정무선: 기지국에서 가정 내 모뎀으로 데이터를 무선으로 제공

#### 기업 접속
- 이더넷(유선 LAN)과 와이파이(무선 LAN)

### 1.2.2 물리 매체
- 통신장치의 물리적 연결 매개체

#### 물리매체의 종류
- 꼬임쌍선
- 동축 케이블
- 광섬유
- 지상 라디오 채널
- 위성 라디오 채널

---
## 1.3 네트워크 코어
네트워크 코어: 인터넷의 종단 시스템을 연결하는 패킷 스위치와 링크의 그물망

### 1.3.1 패킷 교환
#### 패킷 스위칭
- 패킷: 전송 장치 간 전달되는 정보 단위
- 패킷 스위치: 입력 링크와 출력 링크 간에 패킷 단위 교환

#### 저장 - 후 - 전달
- 먼저 온 패킷을 버퍼(buffer) 에 저장한 후, 라우터가 패킷의 모든 비트를 수신한 후에만 출력 링크로 그 패킷을 전송하기 시작
	- 목적지 노드까지 N 개의 링크로 구성되고 각각은 전송률이 R인 경로를 통해 하나의 패킷을 전송하는 일반적인 경우
$$
d_{\text{종단간 지연}} = N \frac{L}{R}
$$

#### 큐잉 지연과 패킷 손실
큐잉 지연시간
- 패킷이 패킷 스위치(라우터)의 출력 링크의 큐 버퍼 메모리에서 전송전에 대기하는 시간
- 출력 링크의 전송속도보다 많은 양의 패킷이 해당 링크로 교환될 때 발생

패킷 손실
- 버퍼 메모리에서 패킷이 저장되지 못하고 없어지는 현상
- 유한한 크기의 버퍼 메모리에 저장될 수 없을 만큼 많은 양의 패킷이 해당 링크로 교환될 때 발생

#### 라우팅 테이블과 라우팅 프로토콜
라우팅 테이블
- 입력 패킷에 대한 교환 규칙을 정의하는 자료구조
- 패킷 전달 테이블(forwarding table)

라우팅 프로토콜
- 라우팅 테이블을 자동으로 생성하는 프로토콜

### 1.3.2 회선 교환
#### 회선 스위칭
- 스위치의 입력 포트에 연결된 회선(링크)을 출력 포트에 연결된 동일 전송속도의 회선으로 교환

#### 회선 스위칭의 특징과 응용
- 일정한 전송 속도 보장
- 짧고 일정한 지연 시간이 보장
- 전화와 같이 연속적인 신호 전송과 실시간을 요하는 응용에 적합

#### 회선 스위칭의 문제점
- 데이터가 발생되지 않는 구간에서는 회선이 낭비

### 1.3.3 네트워크의 네트워크
#### 네트워크의 네트워크 구조
1. 모든 접속 ISP 를 하나의 글로벌 통과(transit) ISP 와 연결
2. 상위층에 글로벌 통과 서비스 제공자가 있고 하위층에 접속 ISP 가 존재
3. 다중 계층 구조
4. PoP, 멀티홈, 피어링, IXP 를 포함
5. 네트워크 구조 4 위에 콘텐츠 제공자 네트워크 추가

---
## 1.4 패킷 교환 네트워크에서의 지연, 손실과 처리율
### 1.4.1 패킷 교환 네트워크에서의 지연 개요
#### 지연 유형
- 처리지연: 패킷 헤더를 조사하고 그 패킷을 어디로 보낼지 결정하는 시간
- 큐잉지연: 큐에서 링크로 전송되기를 기다리는 시간
- 전송지연: 패킷의 모든 비트를 링크로 밀어내는 데 필요한 시간
- 전파지연: 링크의 처음부터 라우터 B 까지의 전파에 필요한 시간

### 1.4.2 큐잉 지연과 패킷 손실
- 큐잉 지연은 트래픽의 도착률, 링크 전송률, 트래픽 특성에 따라 달라짐
- 트래픽 강도가 1을 초과하면 큐잉 지연이 무한대로 증가 -> 시스템은 설계 시 트래픽 강도가 1 이하로 유지되어야 함
- 도착 트래픽이 일정한 경우 큐잉 지연은 없지만, 트래픽이 버스트로 도착하면 큐잉 지연이 크게 발생할 수 있음

### 1.4.3 종단 간 지연
#### Traceroute
   - 네트워크 경로를 찾고 지연을 측정하는 진단 프로그램.  
   - 목적지 호스트에 특별한 패킷을 보내고 각 라우터의 정보를 반환받음.

#### 종단 시스템 지연
   - 공유 매체(와이파이 등)로 패킷을 전송 시 프로토콜에 의해 의도적으로 지연될 수 있음.  
   - VoIP에서는 미디어 패킷화 지연이 발생하며, 패킷을 인코딩하고 보내는 데 시간이 소요됨.

### 1.4.4 컴퓨터 네트워크에서의 처리율
#### 처리율 (Throughput)
   - 순간적인 처리율은 파일을 수신하는 비율(비트/초)이고, 평균 처리율은 파일 전송에 걸린 시간에 따른 비트 전송률(F/T)
	- 네트워크의 처리율은 병목 링크의 전송률에 의해 결정됨.

#### N개의 클라이언트와 서버의 처리율
   - 공통 병목 링크를 공유하는 경우, 각 다운로드의 처리율은 `min{R_s, R_c}`

---
## 1.5 프로토콜 계층과 서비스 모델
### 1.5.1 계층 구조
#### 프로토콜 계층화의 개념
- 네트워크 통신을 여러 개의 계층으로 나누어 각 계층이 특정한 기능만을 처리하도록 설계하는 방식
- 각 계층은 독립적으로 동작하며, 상위 계층은 하위 계층의 서비스를 사용하여 데이터를 처리한다.

#### 프로토콜 스택
- 프로토콜 계층들의 집합
- 인터넷 프로토콜 스택은 5개 계층(물리, 링크, 네트워크, 트랜스포트, 애플리케이션)으로 구성

#### 애플리케이션 계층
- 인터넷 최종 사용자 서비스를 위한 정보(메시지) 교환 규칙 정의
- 주요 프로토콜: HTTP(웹 문서 요청과 전송 제공), SMTP(전자메일 전송 제공), FTP(두 종단 시스템 간의 파일 전송 제공)
- PDU(protocol data unit, 이 계층에서 사용되는 정보 패킷) 호칭: 메시지

#### 트랜스포트 계층
- 애플리케이션 계층 메시지를 작은 전송단위(segment)로 나누고 전송하는 규칙 정의
- 응용 프로토콜 지정(end-point, port 번호)(만약 HTTP 로 보낸 경우 수신자의 웹 서버로 가도록), 오류 제어(error control), 흐름 제어(flow control)(수신자가 수신할 수 있는 양 만큼 발신), 혼잡 제어(congestion control)(트래픽이 몰려서 큐에서 손실이 발생하지 않도록하는 기능)
- 주요 프로토콜: TCP, UDP
- PDU 호칭: 세그먼트

#### 네트워크 계층
- 데이터그램을 라우팅하여 출발지에서 목적지 호스트로 전송
- 주요 프로토콜: IP(데이터그램 전달), 라우팅 프로토콜(최적 경로 찾기 프로토콜)

#### 링크 계층
- 네트워크 경로를 구성하는 각 링크 상에서 데이터그램을 프레임으로 변환하고 링크의 끝까지 전송하는 규칙 정의
- 주요 프로토콜
	- 유선 LAN: Ethernet
	- 무선 LAN: WiFi
	- 전용 회선: PPP
- PDU 호칭: 프레임

#### 물리 계층
- 디지털 비트와 물리적인 신호의 변환과 물리 매체 접속 규격 정의
- 물리 계층의 프로토콜은 전송 매체와 관련된 하드웨어에 의존

### 1.5.2 캡슐화
- 프로토콜 정보를 특정 계층의 헤더로 감싸는 과정
- 데이터 정보 + 제어 정보

#### 데이터 정보
- 사용자가 통신 상대방 사용자에게 전송을 의뢰한 정보

#### 제어 정보
- 프로토콜 규칙을 수행하기 위해 상대방 프로토콜에게 제공하는 정보

---
## 1.6 공격받는 네트워크
- 멀웨어: 악성 소프트웨어
- spyware: 민감 정보 탈취
- bot_ware: DDos 공격에 동원되는 좀비 컴퓨터

#### DoS
-  네트워크, 호스트 혹은 다른 인프라스트럭처의 요소들을 정상적인 사용자가 사용할 수 없게 하는 것
#### DoS 의 범주
1. 취약성 공격
	- 에러 유발
2. 대역폭 플러딩
	- 목표 호스트의 접속 링크가 동작하지 못하도록 많은 패킷을 보내서 정당한 패킷들이 그 서버에 도달하지 못하게 함
3. 연결 플러딩
	- 목표 호스트에 반열림(half-open) 혹은 전열림(fully open)된 TCP 연결을 설정하여 호스트가 가짜 연결을 처리하느라 바빠 정상적인 연결을 받아들이는 것을 중단하게 만듦

#### 패킷 스니퍼
- 무선 전송 장치의 근처에 수동적인 수신자
- 전송되고 있는 모든 패킷의 사본을 얻음

#### 스푸핑
- 가짜 출발지 주소를 가진 패킷을 인터넷으로 보내는 행위
- 한 사용자가 다른 사용자인 것처럼 행동함

#### 해결 방법
- 종단 인증: 메시지가 실제로 와야할 곳으로 부터 온 것인지 확신할 수 있는 방법

---
## 1.7 컴퓨터 네트워킹과 인터넷의 역사
### 1.7.1 패킷 교환 개발: 1961 ~ 1972
### 1.7.2 독점 네트워크와 인터네트워킹: 1972 ~ 1980
### 1.7.3 네트워크 확산: 1980 ~ 1990
### 1.7.4인터넷 급증: 1990년대
### 1.7.5 새 천 년