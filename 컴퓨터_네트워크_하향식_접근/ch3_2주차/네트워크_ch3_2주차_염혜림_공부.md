# 3.5 ì—°ê²°ì§€í–¥í˜• íŠ¸ëžœìŠ¤í¬íŠ¸: TCP

## 3.5.1 TCP ì—°ê²°

> ðŸ’¡ TCPëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì„¸ìŠ¤ê°€ ë°ì´í„°ë¥¼ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ë³´ë‚´ê¸° ì „ì—, ë‘ í”„ë¡œì„¸ìŠ¤ê°€ ì„œë¡œ 'í•¸ë“œì…°ì´í¬'ë¥¼ ë¨¼ì € í•´ì•¼ í•˜ë¯€ë¡œ ì—°ê²°ì§€í–¥í˜•(connection-oriented)ìž„.
> 

ì¦‰, ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì „ì†¡í•˜ê¸° ìœ„í•œ ì¡°ê±´ë“¤ì„ ì„¤ì •í•˜ê¸° ìœ„í•´, ì‚¬ì „ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë³´ë‚´ì•¼ í•¨.

TCP `ì—°ê²°`ì€ **ë‘ í†µì‹  ì¢…ë‹¨ ì‹œìŠ¤í…œì˜ TCP ìƒíƒœë¥¼ ê³µìœ **í•˜ëŠ” ë…¼ë¦¬ì ì¸ ì—°ê²°ìž„. ë˜í•œ, `ì „ì´ì¤‘ ì„œë¹„ìŠ¤(full-duplex service)`ë¥¼ ì œê³µí•¨.

> ë§Œì•½ í˜¸ìŠ¤íŠ¸ Aì˜ í”„ë¡œì„¸ìŠ¤ì™€ í˜¸ìŠ¤íŠ¸ Bì˜ í”„ë¡œì„¸ìŠ¤ ì‚¬ì´ì— TCP ì—°ê²°ì´ ìžˆë‹¤ë©´, ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ ë°ì´í„°ëŠ” Bì—ì„œ Aë¡œ íë¥´ëŠ” ë™ì‹œì— Aì—ì„œ Bë¡œ íë¥¼ ìˆ˜ ìžˆìŒ.
> 

TCP ì—°ê²°ì€ í•­ìƒ ë‹¨ì¼ ì†¡ì‹ ìžì™€ ë‹¨ì¼ ìˆ˜ì‹ ìž ì‚¬ì´ì˜ `ì ëŒ€ì (point-to-point)` ì—°ê²°ìž„. ë”°ë¼ì„œ ë‹¨ì¼ ì†¡ì‹  ë™ìž‘ìœ¼ë¡œ ì—¬ëŸ¬ ìˆ˜ì‹ ìžì—ê²Œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” '**ë©€í‹°ìºìŠ¤íŒ…(multicasting)**'ì€ TCPì—ì„œëŠ” ë¶ˆê°€ëŠ¥í•¨.

### TCP ì—°ê²° ê³¼ì •

- `í´ë¼ì´ì–¸íŠ¸ í”„ë¡œì„¸ìŠ¤(client process)` : ì—°ê²°ì„ ì´ˆê¸°í™”í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ìž„.
- `ì„œë²„ í”„ë¡œì„¸ìŠ¤(server process)` : ìš”ì²­ì„ ê¸°ë‹¤ë¦¼.

### ì„¸ ë°©í–¥ í•¸ë“œì…°ì´í¬(three-way handshake)

*(3.5.6ì—ì„œ ë” ìžì„¸ížˆ ë‹¤ë£° ì˜ˆì •ìž„)*

1. í´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì„œë²„ì˜ í”„ë¡œì„¸ìŠ¤ì™€ ì—°ê²°ì„ ì„¤ì •í•˜ê¸°ë¥¼ TCPì—ê²Œ ìš”ì²­í•¨.
2. í´ë¼ì´ì–¸íŠ¸ì˜ íŠ¸ëžœìŠ¤í¬íŠ¸ ê³„ì¸µì´ ì„œë²„ì™€ì˜ ì—°ê²° ì„¤ì •ì„ ì§„í–‰í•¨. í´ë¼ì´ì–¸íŠ¸ê°€ íŠ¹ë³„í•œ TCP ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë¨¼ì € ë³´ëƒ„.
3. ì„œë²„ëŠ” `ë‘ ë²ˆì§¸ íŠ¹ë³„í•œ ì„¸ê·¸ë¨¼íŠ¸`ë¡œ ì‘ë‹µí•¨.
4. í´ë¼ì´ì–¸íŠ¸ê°€ `ì„¸ ë²ˆì§¸ íŠ¹ë³„í•œ ì„¸ê·¸ë¨¼íŠ¸`ë¡œ ë‹¤ì‹œ ì‘ë‹µí•¨. ì²« ë‘ ì„¸ê·¸ë¨¼íŠ¸ì—ëŠ” `íŽ˜ì´ë¡œë“œ(payload)`ê°€ ì—†ê³ , **ì„¸ ë²ˆì§¸ ì„¸ê·¸ë¨¼íŠ¸ëŠ” íŽ˜ì´ë¡œë“œë¥¼ í¬í•¨í•  ìˆ˜ ìžˆìŒ.**

### TCP ì—°ê²°ì´ ì„¤ì •ëœ ì´í›„

TCP ì—°ê²°ì´ ì„¤ì •ë˜ë©´, ë‘ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì„¸ìŠ¤ëŠ” ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìžˆìŒ.

1. í´ë¼ì´ì–¸íŠ¸ í”„ë¡œì„¸ìŠ¤ê°€ **ë°ì´í„°ë¥¼ ì†Œì¼“(í”„ë¡œì„¸ìŠ¤ì˜ ê´€ë¬¸)ìœ¼ë¡œ ë³´ëƒ„.**
2. ë°ì´í„°ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ TCPë¡œ ì „ë‹¬ë¨.
    1. TCPëŠ” ì—°ê²°ì˜ `ì†¡ì‹  ë²„í¼(send buffer)`ë¡œ ë°ì´í„°ë¥¼ ì´ë™ì‹œí‚´.
    2. ì†¡ì‹  ë²„í¼ì—ì„œ ë°ì´í„° ë¬¶ìŒì„ ë§Œë“¤ì–´ ë„¤íŠ¸ì›Œí¬ë¡œ ë³´ëƒ„. ì „ì†¡ íƒ€ì´ë°ì€ TCPê°€ ì •í•¨.

---

### ìµœëŒ€ ì„¸ê·¸ë¨¼íŠ¸ í¬ê¸°(maximum segment size, MSS)

> ì„¸ê·¸ë¨¼íŠ¸ë¡œ ëª¨ì•„ ë‹´ì„ ìˆ˜ ìžˆëŠ” ë°ì´í„° ì–‘ì€ ìµœëŒ€ ì„¸ê·¸ë¨¼íŠ¸ í¬ê¸°(MSS)ë¡œ ì œí•œë¨.
> 

MSSë¥¼ ê²°ì •í•˜ëŠ” ì£¼ìš” ìš”ì†ŒëŠ” ë‹¤ìŒê³¼ ê°™ìŒ:

- ë¡œì»¬ ì†¡ì‹  í˜¸ìŠ¤íŠ¸ê°€ ì „ì†¡í•  ìˆ˜ ìžˆëŠ” ë§í¬ ê³„ì¸µ í”„ë ˆìž„ì˜ ìµœëŒ€ í¬ê¸° (`MTU`ì™€ ì—°ê´€ë¨).
- TCP/IP í—¤ë”ë¥¼ í¬í•¨í•œ ë°ì´í„°ê°€ ë§í¬ ê³„ì¸µ í”„ë ˆìž„ì— ë”± ë§žë„ë¡ ì œí•œë¨.

> ðŸ’¡ MSSëŠ” TCP ì„¸ê·¸ë¨¼íŠ¸ í—¤ë”ë¥¼ ì œì™¸í•œ ë°ì´í„°ì˜ ìµœëŒ€ í¬ê¸°ìž„.
> 

---

## 3.5.2 TCP ì„¸ê·¸ë¨¼íŠ¸ êµ¬ì¡°

### êµ¬ì¡°

### **í—¤ë” í•„ë“œ**

- `ì¶œë°œì§€ì™€ ëª©ì ì§€ í¬íŠ¸ ë²ˆí˜¸(source and destination port number)`
- `ì²´í¬ì„¬ í•„ë“œ(checksum field)`
- 32ë¹„íŠ¸ `ìˆœì„œ ë²ˆí˜¸ í•„ë“œ(sequence number field)`
- 32ë¹„íŠ¸ `í™•ì¸ì‘ë‹µ ë²ˆí˜¸ í•„ë“œ(acknowledgement number field)`
- 16ë¹„íŠ¸ `ìˆ˜ì‹  ìœˆë„(receive window)` : íë¦„ ì œì–´ì— ì‚¬ìš©ë¨.
    
    (ìˆ˜ì‹ ìžê°€ ë°›ì•„ë“¤ì´ë ¤ëŠ” ë°”ì´íŠ¸ì˜ í¬ê¸°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë° ì‚¬ìš©ë¨)
    
- 4ë¹„íŠ¸ `í—¤ë” ê¸¸ì´ í•„ë“œ(header length field)` : 32ë¹„íŠ¸ ì›Œë“œ ë‹¨ìœ„ë¡œ TCP í—¤ë”ì˜ ê¸¸ì´ë¥¼ ë‚˜íƒ€ëƒ„.
- `ì˜µì…˜ í•„ë“œ(option field)`
    - ì´ í•„ë“œëŠ” ì„ íƒì ì´ê³  ê°€ë³€ì ì¸ ê¸¸ì´ë¥¼ ê°€ì§.
    - ì†¡ì‹ ìžì™€ ìˆ˜ì‹ ìžê°€ ìµœëŒ€ ì„¸ê·¸ë¨¼íŠ¸ í¬ê¸°(MSS)ë¥¼ í˜‘ìƒí•˜ê±°ë‚˜ ê³ ì† ë„¤íŠ¸ì›Œí¬ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ìœˆë„ í™•ìž¥ ìš”ì†Œë¡œ ì´ìš©ë¨.
- `í”Œëž˜ê·¸ í•„ë“œ(flag field)` : 6ë¹„íŠ¸ë¥¼ í¬í•¨í•¨.
    - `ACK` ë¹„íŠ¸ : í™•ì¸ì‘ë‹µ í•„ë“œì— ìžˆëŠ” ê°’ì´ ìœ ìš©í•¨ì„ ê°€ë¦¬í‚¤ëŠ” ë° ì‚¬ìš©ë¨.
    - `RST`, `SYN`, `FIN` ë¹„íŠ¸ : ì—°ê²° ì„¤ì •ê³¼ í•´ì œì— ì‚¬ìš©ë¨.
    - `PSH` ë¹„íŠ¸ : ì´ ë¹„íŠ¸ê°€ ì„¤ì •ë˜ì—ˆë‹¤ë©´ ì´ê²ƒì€ ìˆ˜ì‹ ìžê°€ ë°ì´í„°ë¥¼ ìƒìœ„ ê³„ì¸µì— ì¦‰ì‹œ ì „ë‹¬í•´ì•¼ í•¨ì„ ê°€ë¦¬í‚´.
    - `URG` ë¹„íŠ¸
        - ì´ ì„¸ê·¸ë¨¼íŠ¸ì—ì„œ ì†¡ì‹  ì¸¡ ìƒìœ„ ê³„ì¸µ ê°œì²´ê°€ â€˜ê¸´ê¸‰â€™ìœ¼ë¡œ í‘œì‹œí•˜ëŠ” ë°ì´í„°ìž„ì„ ê°€ë¦¬í‚´.
        - ì´ ê¸´ê¸‰ ë°ì´í„°ì˜ ë§ˆì§€ë§‰ ë°”ì´íŠ¸ì˜ ìœ„ì¹˜ëŠ” 16ë¹„íŠ¸ì˜ `ê¸´ê¸‰ ë°ì´í„° í¬ì¸í„° í•„ë“œ(urgent data pointer field)`ì— ì˜í•´ ê°€ë¦¬ì¼œì§.

### **ë°ì´í„° í•„ë“œ**

ì• í”Œë¦¬ì¼€ì´ì…˜ ë°ì´í„°ì˜ ì¼ì •ëŸ‰ì„ ë‹´ìŒ.

---

### MSS

MSSëŠ” ì„¸ê·¸ë¨¼íŠ¸ ë°ì´í„° í•„ë“œì˜ í¬ê¸°ë¥¼ ì œí•œí•¨.

- í° íŒŒì¼ ì „ì†¡ ì‹œ, ì¼ë°˜ì ìœ¼ë¡œ MSS í¬ê¸°ë¡œ íŒŒì¼ì„ ë¶„ì ˆí•¨.
- ë§Žì€ ëŒ€í™”ì‹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ MSSë³´ë‹¤ ìž‘ì€ ì–‘ì˜ ë°ì´í„°ë¥¼ ì „ì†¡í•¨.

---

## ìˆœì„œ ë²ˆí˜¸ì™€ í™•ì¸ì‘ë‹µ ë²ˆí˜¸

ì´ ë‘ í•„ë“œëŠ” TCPì˜ ì‹ ë¢°ì ì¸ ë°ì´í„° ì „ì†¡ ì„œë¹„ìŠ¤ì˜ ì¤‘ëŒ€í•œ ë¶€ë¶„ìž„.

### ìˆœì„œ ë²ˆí˜¸

> TCPëŠ” ë°ì´í„°ë¥¼ êµ¬ì¡°í™”ë˜ì–´ ìžˆì§€ ì•Šê³  ë‹¨ì§€ ìˆœì„œëŒ€ë¡œ ì •ë ¬ë˜ì–´ ìžˆëŠ” ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë´„.
> 

> ì„¸ê·¸ë¨¼íŠ¸ì— ëŒ€í•œ ìˆœì„œ ë²ˆí˜¸ëŠ” ì„¸ê·¸ë¨¼íŠ¸ì— ìžˆëŠ” ì²« ë²ˆì§¸ ë°”ì´íŠ¸ì˜ ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ ë²ˆí˜¸ìž„.
> 

ì˜ˆë¥¼ ë“¤ì–´:

- ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì€ 500,000 ë°”ì´íŠ¸ë¡œ êµ¬ì„±ëœ íŒŒì¼ì´ë¼ê³  ê°€ì •í•¨.
- MSSëŠ” 1,000 ë°”ì´íŠ¸.
- ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì˜ ì²« ë²ˆì§¸ ë°”ì´íŠ¸ëŠ” 0ìœ¼ë¡œ ì„¤ì •í•¨.

ì•„ëž˜ ê·¸ë¦¼ì²˜ëŸ¼ TCPëŠ” ë°ì´í„° ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œë¶€í„° 500ê°œì˜ ì„¸ê·¸ë¨¼íŠ¸ë“¤ì„ êµ¬ì„±í•˜ë©°, ê° ì„¸ê·¸ë¨¼íŠ¸ê°€ í• ë‹¹ë°›ëŠ” ìˆœì„œ ë²ˆí˜¸ëŠ” ë‹¤ìŒê³¼ ê°™ìŒ.

> ðŸ’¡ ê°ê°ì˜ ìˆœì„œ ë²ˆí˜¸ëŠ” ì ì ˆí•œ TCP ì„¸ê·¸ë¨¼íŠ¸ì˜ í—¤ë” ë‚´ë¶€ì˜ ìˆœì„œ ë²ˆí˜¸ í•„ë“œì— ì‚½ìž…ë¨.
> 

### í™•ì¸ì‘ë‹µ ë²ˆí˜¸

TCPëŠ” **ì „ì´ì¤‘ ë°©ì‹**ìž„ì„ ìƒê¸°í•˜ìž.

(í˜¸ìŠ¤íŠ¸ Aê°€ í˜¸ìŠ¤íŠ¸ Bë¡œ ë°ì´í„°ë¥¼ ì†¡ì‹ í•˜ëŠ” **ë™ì•ˆì—** í˜¸ìŠ¤íŠ¸ Bë¡œë¶€í„° ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ê²Œ í•´ì¤Œ)

í˜¸ìŠ¤íŠ¸ Bë¡œë¶€í„° ë„ì°©í•œ ê° ì„¸ê·¸ë¨¼íŠ¸ëŠ” Bë¡œë¶€í„° Aë¡œ ë“¤ì–´ì˜¨ ë°ì´í„°ì— ëŒ€í•œ `ìˆœì„œ ë²ˆí˜¸`ë¥¼ ê°€ì§.

> ðŸ’¡ í˜¸ìŠ¤íŠ¸ Aê°€ ìžì‹ ì˜ ì„¸ê·¸ë¨¼íŠ¸ì— ì‚½ìž…í•˜ëŠ” í™•ì¸ì‘ë‹µ ë²ˆí˜¸ëŠ” í˜¸ìŠ¤íŠ¸ Aê°€ í˜¸ìŠ¤íŠ¸ Bë¡œë¶€í„° ê¸°ëŒ€í•˜ëŠ” ë‹¤ìŒ ë°”ì´íŠ¸ì˜ ìˆœì„œ ë²ˆí˜¸ìž„.
> 

ì˜ˆë¥¼ ë“¤ì–´:

í˜¸ìŠ¤íŠ¸ Aê°€ í˜¸ìŠ¤íŠ¸ Bë¡œë¶€í„°

`0 ~ 535ì˜ ë°”ì´íŠ¸ë¥¼ í¬í•¨í•˜ëŠ” ì–´ë–¤ ì„¸ê·¸ë¨¼íŠ¸`ì™€ `900 ~ 1,000ì˜ ë°”ì´íŠ¸ë¥¼ í¬í•¨í•˜ëŠ” ë˜ ë‹¤ë¥¸ ì„¸ê·¸ë¨¼íŠ¸`ë¥¼ ìˆ˜ì‹ í–ˆë‹¤ê³  ê°€ì •í•¨.

*(ì–´ë–¤ ì´ìœ  ë•Œë¬¸ì¸ì§€ ëª°ë¼ë„, í˜¸ìŠ¤íŠ¸ AëŠ” ê·¸ ì‚¬ì´ `536~899ì˜ ë°”ì´íŠ¸`ë¥¼ ì•„ì§ ìˆ˜ì‹ í•˜ì§€ ì•Šì•˜ìŒ)*

í˜¸ìŠ¤íŠ¸ AëŠ” **Bì˜ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ìž¬ìƒì„±í•˜ê¸° ìœ„í•´** 536ë²ˆì§¸(ì™€ ê·¸ ë‹¤ìŒì˜) ë°”ì´íŠ¸ë¥¼ ì•„ì§ ê¸°ë‹¤ë¦¬ê³  ìžˆìŒ.

ê·¸ëŸ¬ë¯€ë¡œ Bì— ëŒ€í•œ Aì˜ ë‹¤ìŒ ì„¸ê·¸ë¨¼íŠ¸ì´ `í™•ì¸ì‘ë‹µ ë²ˆí˜¸ í•„ë“œ`ì— 536ì„ ê°€ì§ˆ ê²ƒìž„.

> TCPëŠ” ìŠ¤íŠ¸ë¦¼ì—ì„œ ì²« ë²ˆì§¸ ìžƒì–´ë²„ë¦° ë°”ì´íŠ¸ê¹Œì§€ì˜ ë°”ì´íŠ¸ë“¤ê¹Œì§€ë§Œ í™•ì¸ì‘ë‹µí•˜ê¸° ë•Œë¬¸ì—,
> 
> 
> TCPëŠ” `ëˆ„ì  í™•ì¸ì‘ë‹µ(cumulative acknowledgment)`ì„ ì œê³µí•œë‹¤ê³  í•¨.
> 

---

ìœ„ ì˜ˆì—ì„œ í˜¸ìŠ¤íŠ¸ AëŠ” `ì„¸ ë²ˆì§¸ ì„¸ê·¸ë¨¼íŠ¸(900~1,000 ê°’ì˜ ë°”ì´íŠ¸)`ë¥¼ `ë‘ ë²ˆì§¸ ì„¸ê·¸ë¨¼íŠ¸(536~899 ê°’ì˜ ë°”ì´íŠ¸)`ê°€ ìˆ˜ì‹ ë˜ê¸° ì „ì— ìˆ˜ì‹ í•¨.

*ì¦‰, ì„¸ ë²ˆì§¸ ì„¸ê·¸ë¨¼íŠ¸ëŠ” ìˆœì„œê°€ í‹€ë¦¬ê²Œ ë„ì°©í–ˆìŒ.*

ì´ ìƒí™©ì—ì„œ í˜¸ìŠ¤íŠ¸ëŠ” ì–´ë–»ê²Œ í–‰ë™ì„ í• ê¹Œ?

> TCP RFCëŠ” TCP ì—°ê²°ì—ì„œ ìˆœì„œê°€ ë°”ë€ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ìˆ˜ì‹ í•  ë•Œ í˜¸ìŠ¤íŠ¸ê°€ ì–´ë–¤ í–‰ë™ì„ ì·¨í•´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ ì–´ë–¤ ê·œì¹™ë„ ë¶€ì—¬í•˜ì§€ ì•Šì•˜ê³ ,
> 
> 
> TCP êµ¬í˜„ ê°œë°œìžì—ê²Œ ë§¡ê¸°ê³  ìžˆìŒ.
> 

ë‘ ê°€ì§€ ì„ íƒì§€

1. ìˆ˜ì‹ ìžê°€ ìˆœì„œê°€ ë°”ë€ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ **ì¦‰ì‹œ ë²„ë¦¼.**
2. ìˆ˜ì‹ ìžëŠ” ìˆœì„œê°€ ë°”ë€ ë°ì´í„°ë¥¼ ë³´ìœ í•˜ê³ , **ë¹ˆ ê³µê°„ì— ìžƒì–´ë²„ë¦° ë°ì´í„°ë¥¼ ì±„ìš°ê¸° ìœ„í•´ ê¸°ë‹¤ë¦¼.**

*í›„ìžê°€ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ ê´€ì ì—ì„œëŠ” íš¨ìœ¨ì ì´ë©°, ì‹¤ì œì—ì„œë„ ì·¨í•˜ëŠ” ë°©ë²•ìž„.*

## í…”ë„·: ìˆœì„œ ë²ˆí˜¸ì™€ ì‘ë‹µí™•ì¸ ë²ˆí˜¸ ì‚¬ë¡€ì—°êµ¬

### í…”ë„·(Telnet)

- ì›ê²© ë¡œê·¸ì¸ì„ ìœ„í•œ ëŒ€í‘œì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ í”„ë¡œí† ì½œ.
- TCP ìƒì—ì„œ ìž‘ë™í•˜ë©° ë‘ í˜¸ìŠ¤íŠ¸ ê°„ì˜ í†µì‹ ì„ ì§€ì›í•¨.

---

**í˜¸ìŠ¤íŠ¸ Aê°€ í˜¸ìŠ¤íŠ¸ Bë¡œ** í…”ë„· ì„¸ì…˜ì„ ì‹œìž‘í•œë‹¤ê³  ê°€ì •.

- í˜¸ìŠ¤íŠ¸ A: ì„¸ì…˜ì„ ì‹œìž‘í•˜ëŠ” `í´ë¼ì´ì–¸íŠ¸`
- í˜¸ìŠ¤íŠ¸ B: ì„¸ì…˜ì— ì‘ë‹µí•˜ëŠ” `ì„œë²„`

> ðŸ’¡ ì„¸ê·¸ë¨¼íŠ¸ì˜ ìˆœì„œ ë²ˆí˜¸ = ë°ì´í„° í•„ë“œì—ì„œ ì²« ë²ˆì§¸ ë°”ì´íŠ¸ì˜ ìˆœì„œ ë²ˆí˜¸
> 
- í´ë¼ì´ì–¸íŠ¸ì˜ ì´ˆê¸° ìˆœì„œ ë²ˆí˜¸: `42` â†’ í´ë¼ì´ì–¸íŠ¸ê°€ ì†¡ì‹ í•˜ëŠ” ì²« ë²ˆì§¸ ì„¸ê·¸ë¨¼íŠ¸ëŠ” **ìˆœì„œ ë²ˆí˜¸ 42**ë¥¼ ê°€ì§.
- ì„œë²„ì˜ ì´ˆê¸° ìˆœì„œ ë²ˆí˜¸: `79` â†’ ì„œë²„ê°€ ì†¡ì‹ í•˜ëŠ” ì²« ë²ˆì§¸ ì„¸ê·¸ë¨¼íŠ¸ëŠ” **ìˆœì„œ ë²ˆí˜¸ 79**ë¥¼ ê°€ì§.

> ðŸ’¡ í™•ì¸ì‘ë‹µ ë²ˆí˜¸ = í˜¸ìŠ¤íŠ¸ê°€ ë‹¤ìŒìœ¼ë¡œ ê¸°ëŒ€í•˜ëŠ” ë°ì´í„°ì˜ ì²« ë²ˆì§¸ ë°”ì´íŠ¸ ìˆœì„œ ë²ˆí˜¸
> 

TCP ì—°ê²°ì´ ì´ˆê¸°í™”ë˜ê³  **ë°ì´í„°ê°€ ì†¡ì‹ ë˜ê¸° ì „**,

- í´ë¼ì´ì–¸íŠ¸ëŠ” ë°”ì´íŠ¸ `79`ë¥¼ ê¸°ë‹¤ë¦¬ê³  ìžˆìŒ.
- ì„œë²„ëŠ” ë°”ì´íŠ¸ `42`ë¥¼ ê¸°ë‹¤ë¦¬ê³  ìžˆìŒ.

---

ì‚¬ìš©ìžê°€ ë¬¸ìž â€˜Câ€™ë¥¼ ìž…ë ¥í•œ í›„, **3ê°œì˜ ì„¸ê·¸ë¨¼íŠ¸**ê°€ ì†¡ì‹ ëœë‹¤ê³  ê°€ì •. ì´ëŠ” `ì„¸ ë°©í–¥ í•¸ë“œì…°ì´í¬(three-way handshake)`ë¡œ ì„¤ëª…ë¨.

> 1ï¸âƒ£ ì²« ë²ˆì§¸ ì„¸ê·¸ë¨¼íŠ¸
> 
- í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì „ì†¡ë¨.
- `ìˆœì„œ ë²ˆí˜¸ í•„ë“œ`ì— `42`ê°€ í¬í•¨ë¨.

> 2ï¸âƒ£ ë‘ ë²ˆì§¸ ì„¸ê·¸ë¨¼íŠ¸
> 
- ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡ë¨.
- ë‘ ê°€ì§€ ì—­í•  ìˆ˜í–‰:
    1. **ë°ì´í„° í™•ì¸ì‘ë‹µ ì œê³µ**
        - í™•ì¸ì‘ë‹µ í•„ë“œì— `43`ì„ ì„¤ì •í•¨ìœ¼ë¡œì¨,
            1. ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ë°”ì´íŠ¸ `42`ë¥¼ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì‹ í–ˆìŒì„ ì•Œë¦¼.
            2. ì•žìœ¼ë¡œ ë°”ì´íŠ¸ `43`ì„ ê¸°ëŒ€í•¨ì„ í‘œì‹œ.
    2. **ë¬¸ìž â€˜Câ€™ë¥¼ ë°˜í–¥(echo)**
        - ë°ì´í„° í•„ë“œì— ë¬¸ìž â€˜Câ€™ì˜ ASCII ê°’ì„ í¬í•¨.
        - ì´ ì„¸ê·¸ë¨¼íŠ¸ëŠ” TCP ì—°ê²°ì˜ ì„œë²„-í´ë¼ì´ì–¸íŠ¸ ë°ì´í„° íë¦„ì—ì„œ ì²« ë²ˆì§¸ ìˆœì„œ ë²ˆí˜¸ì¸ `79`ë¥¼ ê°€ì§.

> ðŸ’¡ ë°ì´í„° í™•ì¸ì‘ë‹µì€ ì„œë²„-í´ë¼ì´ì–¸íŠ¸ ê°„ ë°ì´í„°ê°€ í¬í•¨ëœ ì„¸ê·¸ë¨¼íŠ¸ ë‚´ì—ì„œ ì „ì†¡ë¨.
> 

= í™•ì¸ì‘ë‹µì€ **`í”¼ê¸°ë°±(piggyback)` ë°©ì‹**ìœ¼ë¡œ ì²˜ë¦¬ë¨.

> 3ï¸âƒ£ ì„¸ ë²ˆì§¸ ì„¸ê·¸ë¨¼íŠ¸
> 
- í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì „ì†¡ë¨.
- **ëª©ì :** ì„œë²„ë¡œë¶€í„° ìˆ˜ì‹ í•œ ë°ì´í„°ì— ëŒ€í•œ í™•ì¸ì‘ë‹µ ìˆ˜í–‰.
    - **ë¹ˆ ë°ì´í„° í•„ë“œ**ë¥¼ ê°€ì§.
    - ì¦‰, í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ë°ì´í„°ì™€ í•¨ê»˜ **í”¼ê¸°ë°±ë˜ì§€ ì•ŠìŒ.**
- `í™•ì¸ì‘ë‹µ í•„ë“œ`ì— `80`ì„ ì„¤ì •:
    - í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ë¡œë¶€í„° ë°”ì´íŠ¸ `79`ë¥¼ í¬í•¨í•œ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í–ˆìœ¼ë©°,
    - ì´ì œ ë°”ì´íŠ¸ `80`ë¶€í„° ì‹œìž‘í•˜ëŠ” ë°ì´í„°ë¥¼ ê¸°ëŒ€í•˜ê³  ìžˆìŒì„ ë‚˜íƒ€ëƒ„.

> ðŸ’¡ ì„¸ê·¸ë¨¼íŠ¸ê°€ ë°ì´í„°ë¥¼ í¬í•¨í•˜ì§€ ì•Šë”ë¼ë„ TCPëŠ” ìˆœì„œ ë²ˆí˜¸ í•„ë“œë¥¼ í•„ìˆ˜ì ìœ¼ë¡œ í¬í•¨í•˜ê¸° ë•Œë¬¸ì— ìˆœì„œ ë²ˆí˜¸ê°€ ì„¤ì •ë¨.
>
