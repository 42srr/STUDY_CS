# Chapter 2 애플리케이션 계층

## 2.1 네트워크 애플리케이션의 원리
# 2.1.1 네트워크 애플리케이션 구조
1) 클라이언트 서버 구조
- 클라이언트 호스트가 서버에 서비스 요청하고, 서버는 응답
- 클라이언트는 서로 직접 통신 X
- 서버는 고정 IP 주소를 가짐
2) P2P 구조
- peer라는 간헐적으로 연결된 호스트 쌍이 서로 직접 통신
- 자가 확장성
- 상당한 서버 인프라스트럭처와 서버 대역폭 요구 X (비용 효율적)

# 2.1.2 프로세스간 통신
1) 클라이언트와 서버 프로세스
- 클라이언트 : 두 프로세스간 통신에서 통신 초기화(다른 프로세스와 세션을 시작하려고 접속을 초기화)하는 프로세스
- 서버 : 세션을 시작하기 위해 접속을 기다리는 프로세스
2) 프로세스 <-> 컴퓨터 네트워크
- 소켓 : 프로세스와 컴퓨터 네트워크 사이의 인터페이스. 애플리케이션과 네트워크 사이의 API.
3) 프로세스 주소 배정
- 인터넷에서 호스트는 IP 주소 및 포트 번호로 식별

# 2.1.3 애플리케이션이 이용 가능한 트랜스포트 서비스
- 신뢰적 데이터 전송 : 데이터의 올바른 전달 보장
- 처리율 : 명시된 속도에서 보장된 가용 처리율 제공
- 시간 : 특정 시간 내 데이터 도착 보장
- 보안 : 데이터 암호화 및 복호화

# 2.1.4 인터넷 전송 프로토콜이 제공하는 서비스
1) TCP
- 연결지향형 : 두 프로세스간 연결을 맺은 후 소켓 통신
- 신뢰적 데이터 전송 : 모든 데이터를 오류 없이 올바른 순서로 전달

2) UDP
- 비연결형
- 비신뢰적 데이터 전송
- 메시지의 수신 소켓 도착 보장 X
- 메시지 순서 보장 X

# 2.1.5 애플리케이션 계층 프로토콜
- 다른 종단 시스템에서 실행되는 애플리케이션의 프로세스가 서로 메시지 보내는 방법 정의
	1) 교환 메시지 타입
	2) 여러 메시지 타입 문법
	3) 필드에 있는 정보의 의미
	4) 메시지 전송 및 응답 규칙

# 2.1.6 이 책에서 다루는 네트워크 애플리케이션

## 2.2 웹과 HTTP
# 2.2.1 HTTP 개요
- HTTP는 메시지 구조 및 클라이언트와 서버의 메시지 교환 방식에 대해 정의
- 웹 페이지는 여러 객체(HTML, image 등)로 구성
- 웹에서는 브라우저가 클라이언트 역할
- 브라우저는 서버와 TCP로 연결되어 통신
- 비상태 프로토콜(클라이언트에 대한 정보 유지 X)

# 2.2.2 비지속 연결과 지속 연결
1) 비지속 연결
- 각 request-response 쌍이 분리된 TCP 연결을 통해 이루어짐
- 단점 1 : 각 요청 객체에 대한 새로운 연결이 설정되고 유지되어야 함
- 단점 2 : 각 객체는 2 RTT를 필요로 함

2) 지속 연결
- 모든 request 및 해당하는 response 들이 같은 TCP 연결을 통해 이루어짐
- 각 request는 이미 진행중인 request에 대한 응답을 기다리지 않고 연속해서 만들어질 수 있음

# 2.2.3 HTTP 메시지 포맷
1) request
- 요청 라인 : HTTP Method, URL, 프로토콜 버전 등
- 헤더 라인 : 헤더 정보
- entity body : GET 방식에서는 비어 있음. POST 방식에서 사용.

2) response
- 상태 라인 : 프로토콜 버전, 상태코드, 상태 메시지
- 헤더 라인 : 헤더 정보(Connection, Date, Server, Last-Modified, Content-Length, Content-Type)
- entity body : 응답 데이터

# 2.2.4 사용자와 서버 간의 상호작용: 쿠키
- 쿠키 : 서버가 사용자 상태 정보를 저장 및 확인하는 수단(HTTP 서버는 상태 유지 X)

# 2.2.5 웹 캐싱
- 웹 캐시 : 기점 웹 서버를 대신하여 HTTP 요구를 충족시키는 네트워크 개체

# 2.2.6 HTTP/2

## 2.3 인터넷 전자메일
# 2.3.1 SMTP
- 송신자의 메일 서버로부터 수신자의 메일 서버로 메시지 전송

# 2.3.2 메일 메시지 포맷
1) 헤더 : From, To, Subject
2) 몸체 : 전송할 메시지

# 2.3.3 메일 접속 프로토콜
- SMTP : 송신자 메일 서버 -> 수신자 메일 서버
- IMAP : 서버에 메일 저장 및 여러 기기에서 동기화 가능
